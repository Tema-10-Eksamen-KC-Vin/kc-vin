---
import Layout from "../layouts/Layout.astro";
import Udvalgtevinebutton from "../components/Udvalgtevinebutton.astro";
import Productheader from "../components/Productheader.astro";
import Productmain from "../components/Productmain.astro";
import Productmainsection from "../components/Productmainsection.astro";
import Udvalgtevine from "../components/Udvalgtevine.astro";
import Winecard from "../components/Winecard.astro";
import Winearea from "../components/Winearea.astro";
import Productsection from "../components/Productsection.astro";
import Productothers from "../components/Productothers.astro";
import Productotherscard from "../components/Productotherscard.astro";

import { createClient } from "@supabase/supabase-js";

const supabaseUrl = import.meta.env.PUBLIC_SUPABASE_URL;
const supabaseKey = import.meta.env.PUBLIC_SUPABASE_ANON_KEY;

fetch(`${supabaseUrl}/rest/v1/Winelist`, {
  headers: {
    apikey: supabaseKey,
    Authorization: `Bearer ${supabaseKey}`,
  },
})
  .then((res) => res.json())
  .then((data) => {
    console.log("Client-side producers:", data);
  });
---

<Layout>
  <Productheader title="Giovanni Rosso" subtitle="Piemonte, Italien · Grundlagt 1890" />
  <Productmain bgcolor="red">
    <Productmainsection producentNavn="Giovanni Rosso" desc="Giovanni Rosso er en familieejet vingård i hjertet af Barolo-regionen. Med over 100 års erfaring producerer de nogle af Italiens fineste vine med fokus på traditionelle metoder og terroir." special1="Barolo" special2="Barbera d'Alba" special3="Langhe Nebbiolo" />
    <Winearea areas="Piemonte, Sicilien" />
    <Udvalgtevine title="Udvalgte vine fra producenten">
      <Winecard wine="Donna Margherita" subtitle1="Barbera d’Alba DOC" subtitle2="Barbera" desc="Plums, raspberries, blueberries, with some delicate wisteria hints." />
      <Winecard wine="Donna Margherita" subtitle1="Barbera d’Alba DOC" subtitle2="Barbera" desc="Plums, raspberries, blueberries, with some delicate wisteria hints." />
      <Winecard wine="Donna Margherita" subtitle1="Barbera d’Alba DOC" subtitle2="Barbera" desc="Plums, raspberries, blueberries, with some delicate wisteria hints." />
      <Udvalgtevinebutton link="https://www.giovannirosso.com/it/" linktekst="Læs mere om Giovanni Rosso" />
    </Udvalgtevine>
  </Productmain>
  <Productsection> <Udvalgtevinebutton link="/event" linktekst="Tilmeld Vinsmagning" /></Productsection>
  <Productothers title="Udforsk andre vingårde" subtitle="Læs mere om vores udvalg fra andre vingårde">
    <Productotherscard title="Domaine Lamy-Pillot" desc="Bourgogne, Frankrig · Grundlagt 1640" />
  </Productothers>
</Layout>
